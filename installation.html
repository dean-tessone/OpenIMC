

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Installation &mdash; OpenIMC 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=01f34227"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick Start" href="quickstart.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            OpenIMC
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#full-installation">Full Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cli-installation">CLI Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optional-software-setup">Optional Software Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ilastik-installation">Ilastik Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#openai-api-key-setup">OpenAI API Key Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deepcell-api-token-setup">DeepCell API Token Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#verification">Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#common-issues">Common Issues</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_core.html">Core pipeline API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_cli.html">CLI API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenIMC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Installation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<p>This guide covers installation of OpenIMC for different use cases. Choose the
installation method that best fits your needs: full installation (all features),
GUI-only installation, or CLI-only installation.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading"></a></h2>
<dl>
<dt><strong>Python Version</strong></dt><dd><p>OpenIMC requires Python 3.11 or higher.</p>
</dd>
<dt><strong>Important: datrie Dependency</strong></dt><dd><p>Some users may encounter issues installing the <code class="docutils literal notranslate"><span class="pre">datrie</span></code> package, which is
a dependency of certain OpenIMC components. If you encounter errors related
to <code class="docutils literal notranslate"><span class="pre">datrie</span></code> during installation, install it from conda-forge <strong>before</strong>
running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>datrie
</pre></div>
</div>
<p>This is especially important on some Linux distributions and macOS systems
where <code class="docutils literal notranslate"><span class="pre">datrie</span></code> may not build correctly from PyPI.</p>
</dd>
</dl>
</section>
<section id="full-installation">
<h2>Full Installation<a class="headerlink" href="#full-installation" title="Link to this heading"></a></h2>
<p>The full installation includes all features: GUI interface, CLI tools, and all
optional dependencies for segmentation, clustering, and spatial analysis.</p>
<p><strong>Option 1: Conda Environment (Recommended)</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone the repository</span>
git<span class="w"> </span>clone<span class="w"> </span>&lt;repository-url&gt;
<span class="nb">cd</span><span class="w"> </span>OpenIMC

<span class="c1"># Create conda environment</span>
conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>openimc<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
conda<span class="w"> </span>activate<span class="w"> </span>openimc

<span class="c1"># Install datrie if needed (see Prerequisites above)</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>datrie

<span class="c1"># Install dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt

<span class="c1"># Install the package in editable mode (enables CLI)</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Verify installation</span>
python<span class="w"> </span>main.py
</pre></div>
</div>
<p><strong>Option 2: Virtual Environment</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone the repository</span>
git<span class="w"> </span>clone<span class="w"> </span>&lt;repository-url&gt;
<span class="nb">cd</span><span class="w"> </span>OpenIMC

<span class="c1"># Create virtual environment</span>
python3.11<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>openimc_env
<span class="nb">source</span><span class="w"> </span>openimc_env/bin/activate<span class="w">  </span><span class="c1"># On Windows: openimc_env\Scripts\activate</span>

<span class="c1"># Install datrie if needed (see Prerequisites above)</span>
<span class="c1"># If using conda, run: conda install -c conda-forge datrie</span>
<span class="c1"># Otherwise, pip may work: pip install datrie</span>

<span class="c1"># Install dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt

<span class="c1"># Install the package in editable mode (enables CLI)</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Verify installation</span>
python<span class="w"> </span>main.py
</pre></div>
</div>
</section>
<section id="cli-installation">
<h2>CLI Installation<a class="headerlink" href="#cli-installation" title="Link to this heading"></a></h2>
<p>For headless batch processing on HPC systems or servers without display
capabilities, you can install OpenIMC’s CLI tools. Note that some
GUI dependencies (like PyQt5) may still be installed as they are part of the
core requirements, but the CLI can be used without a display.</p>
<p><strong>Option 1: Conda Environment</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone the repository</span>
git<span class="w"> </span>clone<span class="w"> </span>&lt;repository-url&gt;
<span class="nb">cd</span><span class="w"> </span>OpenIMC

<span class="c1"># Create conda environment</span>
conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>openimc<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.11
conda<span class="w"> </span>activate<span class="w"> </span>openimc

<span class="c1"># Install datrie if needed (see Prerequisites above)</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>datrie

<span class="c1"># Install dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt

<span class="c1"># Install the package in editable mode (enables CLI)</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Verify CLI installation</span>
openimc<span class="w"> </span>--help
</pre></div>
</div>
<p><strong>Option 2: Virtual Environment</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clone the repository</span>
git<span class="w"> </span>clone<span class="w"> </span>&lt;repository-url&gt;
<span class="nb">cd</span><span class="w"> </span>OpenIMC

<span class="c1"># Create virtual environment</span>
python3.11<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>openimc_env
<span class="nb">source</span><span class="w"> </span>openimc_env/bin/activate<span class="w">  </span><span class="c1"># On Windows: openimc_env\Scripts\activate</span>

<span class="c1"># Install datrie if needed (see Prerequisites above)</span>
<span class="c1"># If using conda, run: conda install -c conda-forge datrie</span>
<span class="c1"># Otherwise, pip may work: pip install datrie</span>

<span class="c1"># Install dependencies</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt

<span class="c1"># Install the package in editable mode (enables CLI)</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.

<span class="c1"># Verify CLI installation</span>
openimc<span class="w"> </span>--help
</pre></div>
</div>
</section>
<section id="optional-software-setup">
<h2>Optional Software Setup<a class="headerlink" href="#optional-software-setup" title="Link to this heading"></a></h2>
<section id="ilastik-installation">
<h3>Ilastik Installation<a class="headerlink" href="#ilastik-installation" title="Link to this heading"></a></h3>
<p>To use Ilastik segmentation, you need to install Ilastik separately (it’s not a
Python package):</p>
<ol class="arabic">
<li><p><strong>Download Ilastik</strong>
- Visit <a class="reference external" href="https://www.ilastik.org/download">https://www.ilastik.org/download</a>
- Download the appropriate version for your operating system
- Follow the installation instructions for your platform</p></li>
<li><p><strong>Verify Installation</strong>
- Ensure the <code class="docutils literal notranslate"><span class="pre">ilastik</span></code> command is available in your PATH
- Test by running: <code class="docutils literal notranslate"><span class="pre">ilastik</span> <span class="pre">--version</span></code> in your terminal
- The integration uses Ilastik’s headless mode, so the full installation is</p>
<blockquote>
<div><p>required</p>
</div></blockquote>
</li>
<li><p><strong>Using Ilastik Models</strong>
- Train your segmentation model in Ilastik’s GUI
- Save your trained project as a <code class="docutils literal notranslate"><span class="pre">.ilp</span></code> file
- In OpenIMC, select “Ilastik” as the segmentation method
- Browse and select your <code class="docutils literal notranslate"><span class="pre">.ilp</span></code> project file
- Run inference on your images</p></li>
</ol>
</section>
<section id="openai-api-key-setup">
<h3>OpenAI API Key Setup<a class="headerlink" href="#openai-api-key-setup" title="Link to this heading"></a></h3>
<p>To use the LLM-based cell phenotyping features, you’ll need an OpenAI API key:</p>
<ol class="arabic simple">
<li><p><strong>Generate API Key</strong>
- Visit <a class="reference external" href="https://platform.openai.com/">OpenAI Platform</a>
- Sign up or log in to your account
- Navigate to the API section
- Click “Create new secret key”
- Copy the generated API key (starts with <code class="docutils literal notranslate"><span class="pre">sk-</span></code>)</p></li>
</ol>
</section>
<section id="deepcell-api-token-setup">
<h3>DeepCell API Token Setup<a class="headerlink" href="#deepcell-api-token-setup" title="Link to this heading"></a></h3>
<p>To use the DeepCell CellSAM segmentation method, you’ll need a DeepCell API token:</p>
<ol class="arabic">
<li><p><strong>Generate API Token</strong>
- Visit <a class="reference external" href="https://users.deepcell.org/login/">DeepCell User Portal</a>
- Sign up or log in to your account
- Your username is your registration email without the domain suffix</p>
<blockquote>
<div><p>(e.g., if your email is <code class="docutils literal notranslate"><span class="pre">user&#64;example.com</span></code>, your username is <code class="docutils literal notranslate"><span class="pre">user</span></code>)</p>
</div></blockquote>
<ul class="simple">
<li><p>Navigate to your account settings or API section</p></li>
<li><p>Generate or copy your API token</p></li>
<li><p>The API token is used to download the most up-to-date CellSAM model weights</p></li>
</ul>
</li>
<li><p><strong>Set the API Token</strong>
You can set the API token in one of the following ways:</p>
<p><strong>Option A: Environment Variable (Recommended for CLI)</strong>
.. code-block:: bash</p>
<blockquote>
<div><p>export DEEPCELL_ACCESS_TOKEN=”your-api-token-here”</p>
</div></blockquote>
<p><strong>Option B: GUI Settings</strong>
- When using the GUI, enter your API token in the “DeepCell CellSAM Parameters”</p>
<blockquote>
<div><p>section of the segmentation dialog</p>
</div></blockquote>
<ul class="simple">
<li><p>The token will be saved in your user preferences for future use</p></li>
</ul>
</li>
</ol>
</section>
</section>
<section id="verification">
<h2>Verification<a class="headerlink" href="#verification" title="Link to this heading"></a></h2>
<p>After installation, verify that OpenIMC is working correctly:</p>
<dl class="simple">
<dt><strong>GUI Mode:</strong></dt><dd><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">main.py</span></code> to launch the graphical interface.</p>
</dd>
<dt><strong>CLI Mode:</strong></dt><dd><p>Run <code class="docutils literal notranslate"><span class="pre">openimc</span> <span class="pre">--help</span></code> to see available commands, or run a specific command
like <code class="docutils literal notranslate"><span class="pre">openimc</span> <span class="pre">preprocess</span> <span class="pre">--help</span></code>.</p>
</dd>
</dl>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="common-issues">
<h3>Common Issues<a class="headerlink" href="#common-issues" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p><strong>“readimc is not installed”</strong>
.. code-block:: bash</p>
<blockquote>
<div><p>pip install readimc&gt;=0.9.0</p>
</div></blockquote>
</li>
<li><p><strong>GPU segmentation not available</strong>
.. code-block:: bash</p>
<blockquote>
<div><p># Install PyTorch with CUDA support
pip install torch torchvision –index-url <a class="reference external" href="https://download.pytorch.org/whl/cu118">https://download.pytorch.org/whl/cu118</a></p>
</div></blockquote>
</li>
<li><p><strong>Ilastik not found</strong>
- Install Ilastik from <a class="reference external" href="https://www.ilastik.org/download">https://www.ilastik.org/download</a>
- Ensure the <code class="docutils literal notranslate"><span class="pre">ilastik</span></code> command is available in your PATH
- For headless mode, Ilastik must be properly installed and accessible from</p>
<blockquote>
<div><p>command line</p>
</div></blockquote>
<ul class="simple">
<li><p>The integration uses Ilastik’s headless mode, so full installation is
required</p></li>
</ul>
</li>
<li><p><strong>OpenAI API errors</strong>
- Verify your API key is correctly set
- Check your OpenAI account has sufficient credits
- Ensure internet connectivity</p></li>
<li><p><strong>Memory issues with large datasets</strong>
- Close other applications to free RAM
- Consider subsampling for clustering analysis
- Use multiprocessing for feature extraction</p></li>
<li><p><strong>datrie installation errors</strong>
- If you encounter build errors with <code class="docutils literal notranslate"><span class="pre">datrie</span></code>, install it from conda-forge</p>
<blockquote>
<div><p>before running <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements.txt</span></code>:
.. code-block:: bash</p>
<blockquote>
<div><p>conda install -c conda-forge datrie</p>
</div></blockquote>
</div></blockquote>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="overview.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="quickstart.html" class="btn btn-neutral float-right" title="Quick Start" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Dean Tessone.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>